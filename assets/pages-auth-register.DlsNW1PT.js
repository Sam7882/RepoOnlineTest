import{u as e,r as a,y as l,o as r,a as t,w as o,i as s,j as u,k as n,b as i,e as d,g as c,h as p,t as m,n as f,B as h}from"./index-BiR5Rww5.js";import{_}from"./uni-easyinput.CAAOAD_s.js";import{_ as g}from"./uni-icons.B_-qSyOn.js";import{a as y,_ as b}from"./uni-forms.CYq4-Wj_.js";import{_ as V}from"./uni-popup.CNoLj4q_.js";import{_ as w}from"./uni-datetime-picker.2-Vk2qgP.js";import{u as q}from"./useInitDataStore.Czamer27.js";import{_ as x,c as $}from"./_plugin-vue_export-helper.DlRSTxo7.js";const k=x({__name:"register",setup(x){const{t:k}=e(),v=q(),{checkInitData:M}=v,j=a(""),P=a(null),z=a(""),E=()=>{P.value.open()},S=e=>{j.value=e,z.value=0===j.value?k("auth.male"):k("auth.female"),C.genderText=z.value,P.value.close()},U=a(),C=l({name:null,phone:null,gender:null,genderText:null,birthday:null,email:null,password:null,confirmPassword:null}),T={name:{rules:[{required:!0,errorMessage:k("auth.pleaseEnter",{title:k("auth.name")})}]},phone:{rules:[{required:!0,errorMessage:k("auth.pleaseEnter",{title:k("auth.phone")})},{pattern:/^[0-9]{10}$/,errorMessage:k("auth.rules.phone.pattern")}]},gender:{rules:[{required:!0,errorMessage:k("auth.pleaseEnter",{title:k("auth.gender")})}]},birthday:{rules:[{required:!0,errorMessage:k("auth.pleaseEnter",{title:k("auth.birthday")})}]},email:{rules:[{required:!0,errorMessage:k("auth.pleaseEnter",{title:k("auth.email")})},{pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,errorMessage:k("auth.rules.email.pattern")}]},password:{rules:[{required:!0,errorMessage:k("auth.pleaseEnter",{title:k("auth.password")})},{pattern:/^[a-zA-Z0-9]{6,20}$/,errorMessage:k("auth.rules.password.pattern")}]},confirmPassword:{rules:[{required:!0,errorMessage:k("auth.pleaseEnter",{title:k("auth.confirmPassword")})},{validator:(e,a,l)=>{a!==C.password?l(k("auth.confirmPasswordError")):l()}}]}},I=()=>{U.value.validate().then((e=>{console.log("✅ 驗證成功，送出資料:",e),$()})).catch((e=>{console.log("❌ 驗證失敗:",e)}))};return r((()=>{M()})),(e,a)=>{const l=c,r=s,q=u(n("uni-easyinput"),_),x=u(n("uni-icons"),g),$=u(n("uni-forms-item"),y),k=u(n("uni-popup"),V),v=u(n("uni-datetime-picker"),w),M=h,j=u(n("uni-forms"),b);return i(),t(r,{class:"login-page"},{default:o((()=>[d(r,{class:"header"},{default:o((()=>[d(r,{class:"header-title"},{default:o((()=>[d(l,{class:"title"},{default:o((()=>[p(m(e.$t("auth.register")),1)])),_:1}),d(l,{class:"brand"},{default:o((()=>[p("Fance")])),_:1}),d(r,{class:"underline"})])),_:1})])),_:1}),d(j,{ref_key:"formRef",ref:U,model:f(C),rules:T,class:"form"},{default:o((()=>[d($,{name:"name",required:""},{default:o((()=>[d(r,{class:"form-item"},{default:o((()=>[d(q,{modelValue:f(C).name,"onUpdate:modelValue":a[0]||(a[0]=e=>f(C).name=e),class:"inputStyle",placeholder:e.$t("auth.name"),trim:!0,clearable:!1},null,8,["modelValue","placeholder"]),d(x,{class:"form-input-icon",type:"icon-common-person-circle","custom-prefix":"icon",size:"24",color:"#999"})])),_:1})])),_:1}),d($,{name:"phone",required:""},{default:o((()=>[d(r,{class:"form-item"},{default:o((()=>[d(q,{modelValue:f(C).phone,"onUpdate:modelValue":a[1]||(a[1]=e=>f(C).phone=e),class:"inputStyle",placeholder:e.$t("auth.phone"),trim:!0,clearable:!1},null,8,["modelValue","placeholder"]),d(x,{class:"form-input-icon",type:"icon-input-phone","custom-prefix":"icon",size:"24",color:"#999"})])),_:1})])),_:1}),d($,{name:"gender",required:""},{default:o((()=>[d(r,{class:"form-item"},{default:o((()=>[d(r,{class:"form-item-label",onClick:E}),d(q,{modelValue:f(C).genderText,"onUpdate:modelValue":a[2]||(a[2]=e=>f(C).genderText=e),class:"inputStyle",placeholder:e.$t("auth.gender"),trim:!0,clearable:!1},null,8,["modelValue","placeholder"]),d(x,{class:"form-input-icon",type:"icon-input-gender","custom-prefix":"icon",size:"24",color:"#999"}),d(k,{ref_key:"genderPopup",ref:P,type:"bottom","background-color":"#fff"},{default:o((()=>[d(r,{class:"popup-content"},{default:o((()=>[d(r,{class:"popup-option",onClick:a[3]||(a[3]=e=>S(0))},{default:o((()=>[p(m(e.$t("auth.male")),1)])),_:1}),d(r,{class:"popup-option",onClick:a[4]||(a[4]=e=>S(1))},{default:o((()=>[p(m(e.$t("auth.female")),1)])),_:1})])),_:1})])),_:1},512)])),_:1})])),_:1}),d($,{name:"birthday",required:""},{default:o((()=>[d(r,{class:"form-item"},{default:o((()=>[d(v,{modelValue:f(C).birthday,"onUpdate:modelValue":a[5]||(a[5]=e=>f(C).birthday=e),class:"dateStyle",type:"date","clear-icon":!1,placeholder:e.$t("auth.birthday")},null,8,["modelValue","placeholder"]),d(x,{class:"form-input-icon",type:"icon-input-date","custom-prefix":"icon",size:"24",color:"#999"})])),_:1})])),_:1}),d($,{name:"email",required:""},{default:o((()=>[d(r,{class:"form-item"},{default:o((()=>[d(q,{modelValue:f(C).email,"onUpdate:modelValue":a[6]||(a[6]=e=>f(C).email=e),class:"inputStyle",placeholder:e.$t("auth.email"),trim:!0,clearable:!1},null,8,["modelValue","placeholder"]),d(x,{class:"form-input-icon email",type:"icon-menu-email","custom-prefix":"icon",size:"24",color:"#999"})])),_:1})])),_:1}),d($,{name:"password",required:""},{default:o((()=>[d(r,{class:"form-item"},{default:o((()=>[d(q,{modelValue:f(C).password,"onUpdate:modelValue":a[7]||(a[7]=e=>f(C).password=e),class:"inputStyle",type:"password",placeholder:e.$t("auth.password"),trim:!0,clearable:!1},null,8,["modelValue","placeholder"]),d(x,{class:"form-input-icon",type:"icon-common-locked","custom-prefix":"icon",size:"24",color:"#999"})])),_:1})])),_:1}),d($,{name:"confirmPassword",required:""},{default:o((()=>[d(r,{class:"form-item"},{default:o((()=>[d(q,{modelValue:f(C).confirmPassword,"onUpdate:modelValue":a[8]||(a[8]=e=>f(C).confirmPassword=e),class:"inputStyle",type:"password",placeholder:e.$t("auth.confirmPassword"),trim:!0,clearable:!1},null,8,["modelValue","placeholder"]),d(x,{class:"form-input-icon",type:"icon-common-locked","custom-prefix":"icon",size:"24",color:"#999"})])),_:1})])),_:1}),d(M,{type:"button",class:"register-btn",onClick:I},{default:o((()=>[p(m(e.$t("auth.register")),1)])),_:1})])),_:1},8,["model"])])),_:1})}}},[["__scopeId","data-v-625febbc"]]);export{k as default};
