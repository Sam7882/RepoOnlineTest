import{u as e,r as a,c as l,o as t,D as s,a as u,w as r,i as n,j as o,k as i,b as d,e as m,g as f,h as c,t as p,n as v,E as _,A as h,G as y,B as V}from"./index-Dci2vKdT.js";import{_ as g}from"./uni-easyinput.BkGaB9t4.js";import{u as b}from"./useInitDataStore.C1f-4toP.js";import{_ as x,t as S}from"./_plugin-vue_export-helper.B_C9qUr5.js";import"./uni-icons.jq07633Z.js";const C=x({__name:"verify-phone",setup(x){const{t:C}=e(),I=b(),{checkInitData:j}=I,$=a("+886 988-888-888"),U=a(""),k=a(""),D=a(""),E=a(""),T=a({}),w=a(60);let A=null;const B=l((()=>`${String(Math.floor(w.value/60)).padStart(2,"0")}:${String(w.value%60).padStart(2,"0")}`)),F=()=>{w.value<=0?T.value.verifyCode=C("auth.verifyCodeTimeError"):S()};return t((()=>{j(),A=setInterval((()=>{w.value>0?w.value--:(clearInterval(A),A=null)}),1e3)})),s((()=>{A&&clearInterval(A)})),(e,a)=>{const l=f,t=n,s=o(i("uni-easyinput"),g),b=V;return d(),u(t,{class:"login-page"},{default:r((()=>[m(t,{class:"header"},{default:r((()=>[m(t,{class:"header-title"},{default:r((()=>[m(l,{class:"title"},{default:r((()=>[c(p(e.$t("auth.phoneVerify")),1)])),_:1}),m(l,{class:"brand"},{default:r((()=>[c("Fance")])),_:1}),m(t,{class:"underline"})])),_:1})])),_:1}),m(t,{class:"phone-verify-Info"},{default:r((()=>[m(l,{class:"input-tip"},{default:r((()=>[c(p(e.$t("auth.pleaseEnterVerifyCode",{phone:v($)})),1)])),_:1})])),_:1}),m(t,{class:"form"},{default:r((()=>[m(t,{class:"form-item phone-verify-form-item"},{default:r((()=>[m(s,{modelValue:v(U),"onUpdate:modelValue":a[0]||(a[0]=e=>h(U)?U.value=e:null),class:"inputStyle",maxlength:1,trim:!0,clearable:!1},null,8,["modelValue"]),m(s,{modelValue:v(k),"onUpdate:modelValue":a[1]||(a[1]=e=>h(k)?k.value=e:null),class:"inputStyle",maxlength:1,trim:!0,clearable:!1},null,8,["modelValue"]),m(s,{modelValue:v(D),"onUpdate:modelValue":a[2]||(a[2]=e=>h(D)?D.value=e:null),class:"inputStyle",maxlength:1,trim:!0,clearable:!1},null,8,["modelValue"]),m(s,{modelValue:v(E),"onUpdate:modelValue":a[3]||(a[3]=e=>h(E)?E.value=e:null),class:"inputStyle",maxlength:1,trim:!0,clearable:!1},null,8,["modelValue"])])),_:1}),_(m(l,{class:"error-text text-center"},{default:r((()=>[c(p(v(T).verifyCode),1)])),_:1},512),[[y,v(T).verifyCode]]),m(b,{type:"button",class:"verify-btn",onClick:F},{default:r((()=>[c(p(e.$t("auth.verify")),1)])),_:1})])),_:1}),m(t,{class:"register"},{default:r((()=>[m(l,null,{default:r((()=>[c(p(e.$t("auth.verifyCodeTime"))+" : "+p(v(B)),1)])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-eb419fdd"]]);export{C as default};
