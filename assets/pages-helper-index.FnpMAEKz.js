import{_ as e}from"./c-headerNav.CoFyvby_.js";import{j as t,k as i,a as s,b as l,w as a,e as n,i as o,K as r,L as h,M as c,f as d,g as p,h as u,t as m,I as f,ab as _,r as g,A as y,n as b,l as v,F as w,m as S}from"./index-y0fj71PF.js";import{_ as C}from"./uni-easyinput.-E5ggw2M.js";import{_ as O}from"./uni-icons.CZkMifOx.js";import{_ as A}from"./_plugin-vue_export-helper.BO8QHsuH.js";const $=A({name:"uniCollapseItem",props:{title:{type:String,default:""},name:{type:[Number,String],default:""},disabled:{type:Boolean,default:!1},showAnimation:{type:Boolean,default:!0},open:{type:Boolean,default:!1},thumb:{type:String,default:""},titleBorder:{type:String,default:"auto"},border:{type:Boolean,default:!0},showArrow:{type:Boolean,default:!0}},data:()=>({isOpen:!1,isheight:null,height:0,elId:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,nameSync:0}),watch:{open(e){this.isOpen=e,this.onClick(e,"init")}},updated(e){this.$nextTick((()=>{this.init(!0)}))},created(){this.collapse=this.getCollapse(),this.oldHeight=0,this.onClick(this.open,"init")},unmounted(){this.__isUnmounted=!0,this.uninstall()},mounted(){this.collapse&&(""!==this.name?this.nameSync=this.name:this.nameSync=this.collapse.childrens.length+"",-1===this.collapse.names.indexOf(this.nameSync)?this.collapse.names.push(this.nameSync):console.warn(`name 值 ${this.nameSync} 重复`),-1===this.collapse.childrens.indexOf(this)&&this.collapse.childrens.push(this),this.init())},methods:{init(e){this.getCollapseHeight(e)},uninstall(){this.collapse&&(this.collapse.childrens.forEach(((e,t)=>{e===this&&this.collapse.childrens.splice(t,1)})),this.collapse.names.forEach(((e,t)=>{e===this.nameSync&&this.collapse.names.splice(t,1)})))},onClick(e,t){this.disabled||(this.isOpen=e,this.isOpen&&this.collapse&&this.collapse.setAccordion(this),"init"!==t&&this.collapse.onChange(e,this))},getCollapseHeight(e,t=0){_().in(this).select(`#${this.elId}`).fields({size:!0},(i=>{if(!(t>=10)){if(!i)return t++,void this.getCollapseHeight(!1,t);this.height=i.height,this.isheight=!0,e||this.onClick(this.isOpen,"init")}})).exec()},getNvueHwight(e){dom.getComponentRect(this.$refs["collapse--hook"],(t=>{if(t&&t.result&&t.size){if(this.height=t.size.height,this.isheight=!0,e)return;this.onClick(this.open,"init")}}))},getCollapse(e="uniCollapse"){let t=this.$parent,i=t.$options.name;for(;i!==e;){if(t=t.$parent,!t)return!1;i=t.$options.name}return t}}},[["render",function(e,_,g,y,b,v){const w=d,S=p,C=o,A=t(i("uni-icons"),O);return l(),s(C,{class:"uni-collapse-item"},{default:a((()=>[n(C,{onClick:_[0]||(_[0]=e=>v.onClick(!b.isOpen)),class:r(["uni-collapse-item__title",{"is-open":b.isOpen&&"auto"===g.titleBorder,"uni-collapse-item-border":"none"!==g.titleBorder}])},{default:a((()=>[n(C,{class:"uni-collapse-item__title-wrap"},{default:a((()=>[c(e.$slots,"title",{},(()=>[n(C,{class:r(["uni-collapse-item__title-box",{"is-disabled":g.disabled}])},{default:a((()=>[g.thumb?(l(),s(w,{key:0,src:g.thumb,class:"uni-collapse-item__title-img"},null,8,["src"])):h("",!0),n(S,{class:"uni-collapse-item__title-text"},{default:a((()=>[u(m(g.title),1)])),_:1})])),_:1},8,["class"])]),!0)])),_:3}),g.showArrow?(l(),s(C,{key:0,class:r([{"uni-collapse-item__title-arrow-active":b.isOpen,"uni-collapse-item--animation":!0===g.showAnimation},"uni-collapse-item__title-arrow"])},{default:a((()=>[n(A,{color:g.disabled?"#ddd":"#bbb",size:"14",type:"bottom"},null,8,["color"])])),_:1},8,["class"])):h("",!0)])),_:3},8,["class"]),n(C,{class:r(["uni-collapse-item__wrap",{"is--transition":g.showAnimation}]),style:f({height:(b.isOpen?b.height:0)+"px"})},{default:a((()=>[n(C,{id:b.elId,ref:"collapse--hook",class:r(["uni-collapse-item__wrap-content",{open:b.isheight,"uni-collapse-item--border":g.border&&b.isOpen}])},{default:a((()=>[c(e.$slots,"default",{},void 0,!0)])),_:3},8,["id","class"])])),_:3},8,["class","style"])])),_:3})}],["__scopeId","data-v-4e743f48"]]);const k=A({name:"uniCollapse",emits:["change","activeItem","input","update:modelValue"],props:{value:{type:[String,Array],default:""},modelValue:{type:[String,Array],default:""},accordion:{type:[Boolean,String],default:!1}},data:()=>({}),computed:{dataValue(){let e="string"==typeof this.value&&""===this.value||Array.isArray(this.value)&&0===this.value.length;"string"==typeof this.modelValue&&""===this.modelValue||Array.isArray(this.modelValue)&&this.modelValue.length;return e?this.modelValue:this.value}},watch:{dataValue(e){this.setOpen(e)}},created(){this.childrens=[],this.names=[]},mounted(){this.$nextTick((()=>{this.setOpen(this.dataValue)}))},methods:{setOpen(e){let t="string"==typeof e,i=Array.isArray(e);this.childrens.forEach(((s,l)=>{if(t&&e===s.nameSync){if(!this.accordion)return void console.warn("accordion 属性为 false ,v-model 类型应该为 array");s.isOpen=!0}i&&e.forEach((e=>{if(e===s.nameSync){if(this.accordion)return void console.warn("accordion 属性为 true ,v-model 类型应该为 string");s.isOpen=!0}}))})),this.emit(e)},setAccordion(e){this.accordion&&this.childrens.forEach(((t,i)=>{e!==t&&(t.isOpen=!1)}))},resize(){this.childrens.forEach(((e,t)=>{e.getCollapseHeight()}))},onChange(e,t){let i=[];this.accordion?i=e?t.nameSync:"":this.childrens.forEach(((e,t)=>{e.isOpen&&i.push(e.nameSync)})),this.$emit("change",i),this.emit(i)},emit(e){this.$emit("input",e),this.$emit("update:modelValue",e)}}},[["render",function(e,t,i,n,r,h){const d=o;return l(),s(d,{class:"uni-collapse"},{default:a((()=>[c(e.$slots,"default",{},void 0,!0)])),_:3})}],["__scopeId","data-v-1abd9427"]]),x=A({__name:"index",setup(r){const h=g(""),c=[{title:"使用动画",content:"1.成立訂單付款滿5天，可至錢包提領。</br>2.成立訂單付款滿5天，可至錢包提領。</br>3.成立訂單付款滿5天，可至錢包提領。</br>4.成立訂單付款滿5天，可至錢包提領。</br>"},{title:"成立訂單",content:"1.成立訂單付款滿5天，可至錢包提領。</br>2.成立訂單付款滿5天，可至錢包提領。</br>3.成立訂單付款滿5天，可至錢包提領。</br>4.成立訂單付款滿5天，可至錢包提領。</br>"},{title:"帳戶安全",content:"1.成立訂單付款滿5天，可至錢包提領。</br>2.成立訂單付款滿5天，可至錢包提領。</br>3.成立訂單付款滿5天，可至錢包提領。</br>4.成立訂單付款滿5天，可至錢包提領。</br>"},{title:"如何設定",content:"1.成立訂單付款滿5天，可至錢包提領。</br>2.成立訂單付款滿5天，可至錢包提領。</br>3.成立訂單付款滿5天，可至錢包提領。</br>4.成立訂單付款滿5天，可至錢包提領。</br>"}];return(r,d)=>{const u=t(i("c-headerNav"),e),m=t(i("uni-easyinput"),C),f=o,_=p,g=t(i("uni-collapse-item"),$),O=t(i("uni-collapse"),k);return l(),s(f,{class:"container container-sponsor-confirm"},{default:a((()=>[n(u,{title:"幫助中心"}),n(f,{class:"helper-container"},{default:a((()=>[n(f,{class:"helper-search"},{default:a((()=>[n(m,{modelValue:b(h),"onUpdate:modelValue":d[0]||(d[0]=e=>y(h)?h.value=e:null),class:"inputStyle",placeholder:"搜尋",prefixIcon:"search",trim:!0,clearable:!1},null,8,["modelValue"])])),_:1}),n(f,null,{default:a((()=>[n(O,null,{default:a((()=>[(l(),v(w,null,S(c,((e,t)=>n(g,{key:t,class:"helper-collapse-item",title:e.title,"show-animation":!0,"title-border":"none"},{default:a((()=>[n(f,{class:"content"},{default:a((()=>[n(_,{class:"text",innerHTML:e.content},null,8,["innerHTML"])])),_:2},1024)])),_:2},1032,["title"]))),64))])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-2d02021e"]]);export{x as default};
