import{u as e,r as a,o as t,a as l,w as r,i as s,j as d,k as o,b as i,e as n,n as c,g as u,h as p,t as m,f as g,B as y,K as b,C as f}from"./index-y0fj71PF.js";import{_ as h}from"./c-headerNav.CoFyvby_.js";import{_}from"./uni-easyinput.-E5ggw2M.js";import{a as C,_ as v}from"./uni-forms.sve_CWtl.js";import{_ as V}from"./uni-data-select.CQWtHlWs.js";import{_ as w}from"./icon-wallet-visa.fbFQwQ_q.js";import{_ as x}from"./icon-wallet-masterCard.Bn5NmPXd.js";import{u as E}from"./useInitDataStore.CPzmrbrf.js";import{_ as N,d as q}from"./_plugin-vue_export-helper.BO8QHsuH.js";import"./uni-icons.CZkMifOx.js";import"./uni-cloud.es.Dk4t6DMe.js";const j=N({__name:"creditCardSetting",setup(N){const j=E(),{checkInitData:M}=j,{t:A}=e(),$=a(null),U=a({creditCardName:null,cardNumber:null,cardExpiry:null,cardCvv:null,creditCardAddress:null,country:null,postalCode:null}),k={creditCardName:{rules:[{required:!0,errorMessage:A("auth.pleaseEnter",{title:A("wallet.creditCardName")})}]},cardNumber:{rules:[{required:!0,errorMessage:A("auth.pleaseEnter",{title:A("wallet.creditCardData")})}]},cardExpiry:{rules:[{required:!0,errorMessage:A("auth.pleaseEnter",{title:A("wallet.timeError")})},{pattern:/^[0-9]{2}\/[0-9]{2}$/,errorMessage:A("wallet.timeError")}]},cardCvv:{rules:[{required:!0,errorMessage:{required:!0,errorMessage:A("auth.pleaseEnter",{title:"cvv"})}},{pattern:/^[0-9]{3}$/,errorMessage:A("auth.checkAright")}]},creditCardAddress:{rules:[{required:!0,errorMessage:A("auth.pleaseEnter",{title:A("wallet.creditCardAddress")})}]},country:{rules:[{required:!0,errorMessage:A("auth.pleaseEnter",{title:A("common.country")})}]},postalCode:{rules:[{required:!0,errorMessage:A("auth.pleaseEnter",{title:A("common.postalCode")})}]}},D=a({value:"0",range:[{value:"0",text:"台灣"},{value:"1",text:"美國"},{value:"2",text:"中國"},{value:"3",text:"日本"},{value:"4",text:"韓國"},{value:"5",text:"其他"}]}),I=a(!0),S=()=>{$.value.validate().then((()=>{console.log("✅ 驗證成功，送出資料:",U.value),f({title:"驗證成功",icon:"success"}),q()})).catch((e=>{console.log("❌ 驗證失敗:",e),f({title:"請檢查表單",icon:"none"})}))};return t((()=>{})),(e,a)=>{const t=d(o("c-headerNav"),h),f=u,E=g,N=s,q=d(o("uni-easyinput"),_),j=d(o("uni-forms-item"),C),M=d(o("uni-data-select"),V),A=y,B=d(o("uni-forms"),v);return i(),l(N,{class:"pay-page"},{default:r((()=>[n(t,{title:"信用卡"}),n(N,{class:"pay-page-content"},{default:r((()=>[n(B,{ref_key:"form",ref:$,model:c(U),rules:k,"label-position":"top"},{default:r((()=>[n(N,{class:"pay-page-title creditCard-template-title"},{default:r((()=>[n(f,null,{default:r((()=>[p(m("卡片詳情"))])),_:1}),n(N,{class:"creditCard-template"},{default:r((()=>[n(E,{class:"subscription-setting-page-list-item-container-left-img",src:w,mode:"heightFix"}),n(E,{class:"subscription-setting-page-list-item-container-left-img",src:x,mode:"heightFix"})])),_:1})])),_:1}),n(j,{class:"pay-page-content-item-cardTop",label:"信用卡號碼",name:"cardNumber","label-width":"150",required:""},{default:r((()=>[n(q,{type:"number",placeholder:e.$t("wallet.creditCardNumber"),modelValue:c(U).cardNumber,"onUpdate:modelValue":a[0]||(a[0]=e=>c(U).cardNumber=e),class:"pay-page-content-item-input",trim:!0,clearable:!1},null,8,["placeholder","modelValue"])])),_:1}),n(N,{class:"pay-page-content-item-cardbottom"},{default:r((()=>[n(j,{class:"pay-page-content-item-cardLeft",name:"cardExpiry",label:"到期日(MM/YY)","label-width":"150"},{default:r((()=>[n(q,{type:"number",placeholder:e.$t("wallet.cardExpiry"),modelValue:c(U).cardExpiry,"onUpdate:modelValue":a[1]||(a[1]=e=>c(U).cardExpiry=e),class:"pay-page-content-item-input",trim:!0,clearable:!1},null,8,["placeholder","modelValue"])])),_:1}),n(j,{class:"pay-page-content-item-cardRight",name:"cardCvv",label:"安全驗證碼","label-width":"150"},{default:r((()=>[n(q,{type:"number",placeholder:"cvv",modelValue:c(U).cardCvv,"onUpdate:modelValue":a[2]||(a[2]=e=>c(U).cardCvv=e),class:"pay-page-content-item-input",trim:!0,clearable:!1},null,8,["modelValue"])])),_:1})])),_:1}),n(j,{class:"pay-page-content-item",label:e.$t("wallet.creditCardName"),"label-width":"150",name:"creditCardName",required:""},{default:r((()=>[n(N,{class:"pay-page-content-item-input-container"},{default:r((()=>[n(q,{modelValue:c(U).creditCardName,"onUpdate:modelValue":a[3]||(a[3]=e=>c(U).creditCardName=e),class:"pay-page-content-item-input",trim:!0,clearable:!1},null,8,["modelValue"])])),_:1})])),_:1},8,["label"]),n(N,{class:"pay-page-content-item-line",style:{scale:"1.2"}}),n(N,{class:"pay-page-title"},{default:r((()=>[n(f,null,{default:r((()=>[p(m(e.$t("wallet.creditCardAddress")),1)])),_:1})])),_:1}),n(j,{class:"pay-page-content-item",label:"信用卡帳單地址","label-width":"150",name:"creditCardAddress",required:""},{default:r((()=>[n(N,{class:"pay-page-content-item-input-container"},{default:r((()=>[n(q,{modelValue:c(U).creditCardAddress,"onUpdate:modelValue":a[4]||(a[4]=e=>c(U).creditCardAddress=e),class:"pay-page-content-item-input",trim:!0,clearable:!1},null,8,["modelValue"])])),_:1})])),_:1}),n(j,{class:"pay-page-content-item",label:e.$t("common.country"),"label-width":"150",name:"country",required:""},{default:r((()=>[n(M,{placeholder:"請選擇",class:"pay-page-content-item-select",modelValue:c(U).country,"onUpdate:modelValue":a[5]||(a[5]=e=>c(U).country=e),localdata:c(D).range,clear:!1,placement:"top"},null,8,["modelValue","localdata"])])),_:1},8,["label"]),n(j,{class:"pay-page-content-item",label:e.$t("common.postalCode"),"label-width":"150",name:"postalCode",required:""},{default:r((()=>[n(N,{class:"pay-page-content-item-input-container"},{default:r((()=>[n(q,{type:"number",modelValue:c(U).postalCode,"onUpdate:modelValue":a[6]||(a[6]=e=>c(U).postalCode=e),class:"pay-page-content-item-input",trim:!0,clearable:!1},null,8,["modelValue"])])),_:1})])),_:1},8,["label"]),n(N,{class:"pay-page-content-item"},{default:r((()=>[n(A,{type:"button",class:b(["submit-btn",{"is-disabled":c(I)}]),onClick:S},{default:r((()=>[p(m("儲存信用卡"))])),_:1},8,["class"])])),_:1})])),_:1},8,["model"])])),_:1})])),_:1})}}},[["__scopeId","data-v-b518e26a"]]);export{j as default};
