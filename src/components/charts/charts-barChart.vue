<!-- components/charts/AnalysisBarChart.vue -->
<template>
	<view class="chart-box">
		<view class="chart-title">{{ $t('charts.analysisReport') }}ï¼ˆ{{ $t('charts.barChart') }}ï¼‰</view>
		<qiun-data-charts type="column" :opts="opts" :chartData="chartData" canvas2d />
	</view>
</template>

<script setup lang="ts">
import { defineProps } from 'vue';

const props = defineProps({
	chartData: Object,
	opts: Object
});
/**
 * çˆ¶çµ„ä»¶å¯å‚³éä»¥ä¸‹å…©å€‹ propsï¼š
 *
 * 1ï¸âƒ£ chartData çµæ§‹å¦‚ä¸‹ï¼š
 * {
 *   categories: string[],
 *   series: Array<{
 *     name: string,
 *     data: number[],
 *     color?: string
 *   }>
 * }
 *
 * 2ï¸âƒ£ optsï¼šqiun-data-charts æ”¯æ´çš„åœ–è¡¨è¨­å®šï¼Œå¸¸è¦‹ï¼š
 * {
 *   color: string[]
 *   padding: number[]
 *   legend: { show: boolean }
 *   dataLabel: boolean
 *   xAxis: { disableGrid: boolean }
 *   yAxis: {
 *     min: number,
 *     data: [{ position: 'left', title?: string }]
 *   }
 *   extra: {
 *     column: {
 *       type: 'group' | 'stack',
 *       width: number,
 *       barBorderCircle?: boolean,
 *       linearType?: 'custom' | 'none',
 *       seriesGap?: number,
 *       categoryGap?: number
 *     }
 *   }
 * }
 */
/* 
const barChartOpts = {
	// ğŸ“Œ é¡è‰²èˆ‡ series å°æ‡‰
	color: ['#f56c6c'],
	// ğŸ“Œ å››é‚Šå…§è·ï¼ˆrpxï¼‰
	padding: [15, 15, 15, 15],
	// ğŸ“Œ åœ–ä¾‹è¨­ç½®
	legend: {
		show: true
	},
	// ğŸ“Œ é¡¯ç¤ºæ¯æ ¹æŸ±ä¸Šæ–¹çš„æ•¸å­—
	dataLabel: true,
	// ğŸ“Œ X è»¸è¨­å®š
	xAxis: {
		disableGrid: false // é¡¯ç¤ºè¼”åŠ©ç·š
	},
	// ğŸ“Œ Y è»¸è¨­å®š
	yAxis: {
		min: 0,
		data: [
			{
				position: 'left',
				title: 'äººæ•¸'
			}
		]
	},
	// ğŸ“Œ é¡å¤–æ¨£å¼è¨­å®šï¼ˆæŸ±ç‹€åœ–å°ˆç”¨ï¼‰
	extra: {
		column: {
			type: 'group',         // æŸ±ç‹€é¡å‹ï¼šgroupï¼ˆä¸¦æ’ï¼‰æˆ– stackï¼ˆå †ç–Šï¼‰
			width: 20,             // æ¯æ ¹æŸ±å­çš„å¯¬åº¦ï¼ˆrpxï¼‰
			barBorderCircle: true, // æ˜¯å¦åœ“è§’æŸ±å­
			linearType: 'none',    // æ˜¯å¦ä½¿ç”¨æ¼¸å±¤ï¼š'none' ç‚ºå–®è‰²ï¼Œ'custom' è‡ªå®šæ¼¸å±¤
			seriesGap: 5,          // åŒçµ„ä¸åŒæŸ±ä¹‹é–“è·é›¢
			categoryGap: 10        // çµ„èˆ‡çµ„ä¹‹é–“è·é›¢
		}
	}
};
*/
</script>

<style scoped>
.chart-box {
	padding: 24rpx;
	background-color: #fff;
	border-radius: 20rpx;
}
</style>
